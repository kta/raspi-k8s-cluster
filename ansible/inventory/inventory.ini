[all_masters]
# priority: 1台目だけ高くしてMASTERに、他はBACKUPにする
pi-node1 ansible_host=192.168.1.101 priority=101 state=MASTER
pi-node2 ansible_host=192.168.1.102 priority=100 state=BACKUP
pi-node3 ansible_host=192.168.1.103 priority=100 state=BACKUP

# 最初に init を実行するリーダー
[primary_master]
pi-node1

# 生成されたトークンを使って後から参加するフォロワー
[secondary_masters]
pi-node2
pi-node3

[all:vars]
ansible_user=pi

# ============================================================
# シェルスクリプトに渡す環境変数
# ============================================================
# 注意: 変数の値の後ろにコメントを書かないこと！
#       シェルで # 以降がコメントとして解釈され、
#       引数が途切れる原因になります。
# ============================================================

# Kubernetesバージョン
k8s_version=1.35

# Keepalivedで使う仮想IP (VIP)
vip=192.168.1.100

# ラズパイのネットワークインターフェース名
# ip a で確認: end0, eth0, wlan0 など
interface=eth0

# HAProxyの待ち受けポート (6443との競合回避用)
haproxy_port=8443

# 全ノードのIPリスト (カンマ区切り)
# HAProxyの設定生成でループ処理するために使用
node_ips=192.168.1.101,192.168.1.102,192.168.1.103