[all_masters]
# priority: 1台目だけ高くしてMASTERに、他はBACKUPにする
pi-node1 ansible_host=192.168.1.101 priority=101 state=MASTER
pi-node2 ansible_host=192.168.1.102 priority=100 state=BACKUP
pi-node3 ansible_host=192.168.1.103 priority=100 state=BACKUP

# 最初に init を実行するリーダー
[primary_master]
pi-node1

# 生成されたトークンを使って後から参加するフォロワー
[secondary_masters]
pi-node2
pi-node3

[all:vars]
ansible_user=pi

# === シェルスクリプトに渡す環境変数 ===
k8s_version=1.35 # Kubernetesバージョン
vip=192.168.1.100 # Keepalivedで使う仮想IP (VIP)
interface=eth0 # ラズパイのネットワークインターフェース名 (ip a で確認: end0, eth0, wlan0など)
haproxy_port=8443 # HAProxyの待ち受けポート (6443回避用)
node_ips=192.168.1.101,192.168.1.102,192.168.1.103 # 全ノードのIPリスト (HAProxyの設定生成でループ処理するためカンマ区切りで記述)